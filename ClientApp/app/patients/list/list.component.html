
<div class="main-content" style="margin-top:30px;">
  <div class="container-fluid">
      <div class="row">
          <div class="card card-stats">
              <div class="card-header" data-background-color="red">
                  <i class="material-icons">equalizer</i>
              </div>
              <div class="card-content" style="padding: 0;">
                  <div class="form-group">
                      <!-- <input style="width: 30%; margin-left: 70%;" placeholder="Tìm kiếm..." type="text" class="form-control" name="search" [(ngModel)]="obj_search.code"
                          (ngModelChange)="search()"> -->
                          <input style="width: 30%; margin-left: 70%;" placeholder="Tìm kiếm..." type="text" class="form-control" name="search"
                            (input)= "showSearchListRoom($event)" >
                  </div>
              </div>
              <div class="card-footer">
                  <div class="row" style="padding: 0px 25px;">
                      <button class="btn btn-sm btn-primary" (click)="addData()">
                          <i class="material-icons">add</i>
                      </button>
                  </div>
                  <ngx-datatable class="material" [rows]="list_data" [columnMode]="'force'" [headerHeight]="40" [footerHeight]="40" [rowHeight]="40"
                      [limit]="5" style="width:100%">
                      <ngx-datatable-column name="STT" sortable="true" [width]="60">
                          <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                              {{column.name}}
                          </ng-template>
                          <ng-template let-row="row" let-value="value" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                              {{rowIndex + 1}}
                          </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Mã bệnh nhân" sortable="true" prop="code" >
                          <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                              {{column.name}}
                          </ng-template>
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                              {{value}}
                          </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Tên bệnh nhân" sortable="true" prop="fullName">
                          <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                              <b>{{column.name}}</b>
                          </ng-template>
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                              {{value}}
                          </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Công việc" sortable="true" prop="roomName">
                          <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                              {{column.name}}
                          </ng-template>
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                              {{value}}
                          </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Thời gian tiếp nhận" sortable="true" prop="dayOfExamination">
                          <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                              {{column.name}}
                          </ng-template>
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                              {{value | date:'dd/MM/yyyy HH:mm'}}
                          </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Trạng thái" sortable="true" prop="status">
                          <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                              {{column.name}}
                          </ng-template>
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                              <span *ngIf="value === 0" style="padding: 6px 10px; background: #1d2cff;color:white;border-radius: 15px;">Chờ thanh toán</span>
                              <span *ngIf="value === 1" style="padding: 6px 10px; background: #c34438;color:white;border-radius: 15px;">Chờ khám</span>
                              <span *ngIf="value === 2" style="padding: 6px 10px; background: #f5a623;color:white;border-radius: 15px;">Đang khám</span>
                              <span *ngIf="value === 3" style="padding: 6px 10px; background: #3182b7;color:white;border-radius: 15px;">Đã khám</span>
                          </ng-template>
                      </ngx-datatable-column>
                      <ngx-datatable-column name="Hành động" sortable="true" prop="id" [width]="120">
                          <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
                              {{column.name}}
                          </ng-template>
                          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                              <span style="color:rgb(107, 107, 107);font-size: 14px;">
                                  <i class="material-icons md-18" style="margin-right: 10px;" (click)="editData(row)">create</i>
                                  <i class="material-icons md-18" (click)="deleteRow(row)">clear</i>
                              </span>
                          </ng-template>
                      </ngx-datatable-column>
                  </ngx-datatable>

                  <!-- Modal Confirm Delete -->
                  <bs-modal #confirmdeletemodal [backdrop]="'static'" [keyboard]="false">
                      <bs-modal-body>
                          <div class="container" style="padding: 10px 25px;width:100%;">
                              Xác nhận xóa
                          </div>
                      </bs-modal-body>
                      <bs-modal-footer>
                          <div style="padding-right:40px;">
                              <button type="button" class="btn btn-default-2" (click)="confirmdeletemodal.close()" style="margin-bottom:0;margin-right:10px;">Hủy bỏ</button>
                              <button type="button" (click)="removeOK()" class="btn btn-primary">
                                  Đồng ý </button>
                          </div>
                      </bs-modal-footer>
                  </bs-modal>
              </div>
          </div>
      </div>
  </div>
</div>
